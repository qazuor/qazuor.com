---
import { contact } from '@/data';
import BuyMeACoffeeLink from './social/BuyMeACoffeeLink.astro';
import FiverrLink from './social/FiverrLink.astro';
import GitHubLink from './social/GitHubLink.astro';
import LinkedInLink from './social/LinkedInLink.astro';
import MailLink from './social/MailLink.astro';
import UpworkLink from './social/UpworkLink.astro';
import WhatsAppLink from './social/WhatsAppLink.astro';

interface Props {
    ariaLabels?: {
        github: string;
        linkedin: string;
        fiverr: string;
        upwork: string;
        whatsapp: string;
        mail: string;
        buymeacoffee: string;
    };
    size?: 'sm' | 'md' | 'lg';
    className?: string;
    networks?: ('github' | 'linkedin' | 'fiverr' | 'upwork' | 'whatsapp' | 'mail' | 'buymeacoffee')[];
}

const {
    ariaLabels = {
        github: 'GitHub',
        linkedin: 'LinkedIn',
        fiverr: 'Fiverr',
        upwork: 'Upwork',
        whatsapp: 'WhatsApp',
        mail: 'Email',
        buymeacoffee: 'Buy Me a Coffee'
    },
    size = 'md',
    className = '',
    networks = ['linkedin', 'fiverr', 'upwork', 'github', 'buymeacoffee', 'whatsapp', 'mail']
} = Astro.props;

// Map of component types
const componentMap = {
    github: GitHubLink,
    linkedin: LinkedInLink,
    fiverr: FiverrLink,
    upwork: UpworkLink,
    whatsapp: WhatsAppLink,
    mail: MailLink,
    buymeacoffee: BuyMeACoffeeLink
};

// Map of social networks configuration
const socialConfig = {
    github: {
        href: contact.social.github,
        ariaLabel: ariaLabels.github
    },
    linkedin: {
        href: contact.social.linkedin,
        ariaLabel: ariaLabels.linkedin
    },
    fiverr: {
        href: contact.social.fiverr,
        ariaLabel: ariaLabels.fiverr
    },
    upwork: {
        href: contact.social.upwork,
        ariaLabel: ariaLabels.upwork
    },
    whatsapp: {
        href: contact.social.whatsapp,
        ariaLabel: ariaLabels.whatsapp
    },
    mail: {
        href: contact.social.mail,
        ariaLabel: ariaLabels.mail
    },
    buymeacoffee: {
        href: contact.social.buymeacoffee,
        ariaLabel: ariaLabels.buymeacoffee
    }
};
---

<div class={`flex gap-4 items-center mt-6 lg:mt-0 ${className}`}>
    {
        networks.map((network) => {
            const Component = componentMap[network];
            const config = socialConfig[network];
            return <Component href={config.href} ariaLabel={config.ariaLabel} size={size} />;
        })
    }
</div>
