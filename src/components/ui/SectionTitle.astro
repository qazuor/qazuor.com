---
interface Props {
    title: string;
    subtitle?: string;
    description?: string;
    className?: string;
    titleClassName?: string;
    subtitleClassName?: string;
    descriptionClassName?: string;
    size?: 'sm' | 'md' | 'lg' | 'xl';
    alignment?: 'left' | 'center';
    showGradient?: boolean;
    customElement?: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';
}

const {
    title,
    subtitle,
    description,
    className = '',
    titleClassName = '',
    subtitleClassName = '',
    descriptionClassName = '',
    size = 'md',
    alignment = 'center',
    showGradient = true,
    customElement = 'h2'
} = Astro.props;

// Size configurations
const sizeClasses = {
    sm: {
        title: 'text-2xl md:text-3xl',
        subtitle: 'text-base',
        description: 'text-sm'
    },
    md: {
        title: 'text-3xl md:text-4xl',
        subtitle: 'text-lg',
        description: 'text-base'
    },
    lg: {
        title: 'text-4xl md:text-5xl',
        subtitle: 'text-xl',
        description: 'text-lg'
    },
    xl: {
        title: 'text-5xl md:text-6xl',
        subtitle: 'text-2xl',
        description: 'text-xl'
    }
};

// Alignment classes
const alignmentClasses = {
    left: 'text-left',
    center: 'text-center'
};

// Base classes
const baseClasses = `section-title ${alignment === 'center' ? 'text-center' : 'text-left'} ${className}`;
const titleClasses = `${sizeClasses[size].title} font-bold mb-4 ${alignmentClasses[alignment]} ${titleClassName}`;
const subtitleClasses = `text-foreground-secondary ${sizeClasses[size].subtitle} ${alignmentClasses[alignment]} ${subtitleClassName}`;
const descriptionClasses = `text-foreground-secondary ${sizeClasses[size].description} ${alignmentClasses[alignment]} ${descriptionClassName}`;

// Dynamic element creation
const TitleElement = customElement;
---

<div class={baseClasses}>
    <TitleElement class={titleClasses}>
        {showGradient ? <span class="gradient-text-section" set:html={title} /> : <span set:html={title} />}
    </TitleElement>

    {subtitle && <p class={subtitleClasses} set:html={subtitle} />}

    {description && <p class={descriptionClasses} set:html={description} />}
</div>
