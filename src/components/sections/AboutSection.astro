---
import Timeline from '../interactive/Timeline';
import AnimatedGradientBackground from '../ui/AnimatedGradientBackground.astro';
import ProfileCodeBlock from '../ui/ProfileCodeBlock.astro';

interface Props {
  primaryColor?: string;
  lang?: 'en' | 'es';
  translations?: {
    title: string;
    subtitle: string;
    storyTitle: string;
    storyParagraph1: string;
    storyParagraph2: string;
    storyParagraph3: string;
    storySummary: string;
    ctaButton: string;
    connect: string;
  };
}

const {
  primaryColor = '#6366f1',
  lang = 'en',
  translations = {
    title: 'About Me',
    subtitle: 'Get to know me through code',
    storyTitle: 'My Story',
    storyParagraph1: '',
    storyParagraph2: '',
    storyParagraph3: '',
    storySummary: '',
    ctaButton: "Let's Work Together",
    connect: "Let's build something amazing together!",
  },
} = Astro.props;
---

<section
  class="relative section about-section overflow-hidden"
  id="about"
  style={`background-color: ${primaryColor}`}
>
  <!-- Animated Gradient Background -->
  <AnimatedGradientBackground />

  <div class="container-custom">
    <!-- Section Title -->
    <div class="max-w-6xl mx-auto mb-16">
      <div class="section-title">
        <h2 class="text-3xl md:text-4xl font-bold mb-4">
          <span class="gradient-text-section" set:html={translations.title} />
        </h2>
        <p class="text-foreground-secondary text-lg" set:html={translations.subtitle} />
      </div>

      <!-- Two Column Layout -->
      <div class="grid md:grid-cols-2 gap-8 lg:gap-12 items-start mt-12">
        <!-- Left Column - Code Block -->
        <div class="order-2 md:order-1">
          <ProfileCodeBlock lang={lang} className="max-w-none" />
        </div>

        <!-- Right Column - Text Content -->
        <div class="order-1 md:order-2 space-y-6">
          <div class="prose prose-lg max-w-none">
            <h3
              class="text-2xl font-semibold text-foreground mb-6"
              set:html={translations.storyTitle}
            />

            <div class="text-foreground-secondary leading-relaxed space-y-4">
              <p set:html={translations.storyParagraph1} />
              <p set:html={translations.storyParagraph2} />
              <p set:html={translations.storyParagraph3} />
              <p class="text-foreground font-medium" set:html={translations.storySummary} />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Timeline Section -->
    <Timeline lang={lang} client:load />
  </div>
</section>
