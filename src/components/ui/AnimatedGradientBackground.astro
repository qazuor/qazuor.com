---
interface Props {
    /**
     * Custom positioning styles for the gradient container
     * @default { top: '200px' }
     */
    position?: {
        top?: string;
        bottom?: string;
        left?: string;
        right?: string;
    };
    /**
     * Custom opacity for the gradient effect in light mode
     * @default 60
     */
    lightOpacity?: number;
    /**
     * Custom opacity for the gradient effect in dark mode
     * @default 60
     */
    darkOpacity?: number;
    /**
     * Animation duration in seconds
     * @default 4
     */
    animationDuration?: number;
    /**
     * Custom blur intensity
     * @default '3xl'
     */
    blur?: 'none' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | '3xl';
    /**
     * Border radius for the gradient
     * @default 'lg'
     */
    borderRadius?: 'none' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | 'full';
}

const {
    position = { top: '200px' },
    lightOpacity = 60,
    darkOpacity = 60,
    animationDuration = 4,
    blur = '3xl',
    borderRadius = 'lg'
} = Astro.props;

// Convert position object to CSS style string
const positionStyles = Object.entries(position)
    .map(([key, value]) => `${key}: ${value}`)
    .join('; ');

// Build CSS classes
const blurClass = blur === 'none' ? '' : `blur-${blur}`;
const radiusClass = borderRadius === 'none' ? '' : `rounded-${borderRadius}`;
---

<!-- Animated Gradient Background -->
<div class="absolute inset-0" style={positionStyles}>
    <div
        class={`animated-gradient-bg absolute inset-0 bg-[linear-gradient(to_right_bottom,var(--section-background-glow-from),var(--section-background-glow-via),var(--section-background-glow-to))] ${radiusClass} ${blurClass}`}
        style={`animation: pulse ${animationDuration}s ease-in-out infinite; --light-opacity: ${lightOpacity / 100}; --dark-opacity: ${darkOpacity / 100};`}
    >
    </div>
</div>

<style>
    .animated-gradient-bg {
        opacity: var(--light-opacity);
    }

    .dark .animated-gradient-bg {
        opacity: var(--dark-opacity);
    }
</style>
