---
/**
 * ServicePreviewCard - A preview card for services on the homepage
 * Shows service title, description, key features, and CTA link
 */

import ServiceIcon from '@/components/ui/ServiceIcon.astro';
import ArrowRightIcon from '@/icons/ui/arrow-long-right.svg?raw';

interface Props {
    title: string;
    description: string;
    features: string[];
    href: string;
    ctaText: string;
    iconId: 'web-apps' | 'landing-pages' | 'automation' | 'social-design' | 'web-optimization' | 'wordpress';
}

const { title, description, features, href, ctaText, iconId } = Astro.props;
---

<article class="service-preview-card group relative flex flex-col h-full p-6 rounded-2xl bg-background/30 backdrop-blur-sm border border-primary/20 hover:border-primary/40 transition-all duration-300 hover:shadow-lg hover:shadow-primary/10 hover:-translate-y-1">
    <!-- Icon -->
    <div class="w-14 h-14 mb-4 p-3 rounded-xl bg-primary/10 text-primary transition-colors duration-300 group-hover:bg-primary/20">
        <ServiceIcon name={iconId} size={32} class="w-full h-full" />
    </div>

    <!-- Title -->
    <h3 class="text-xl font-bold text-foreground mb-3 transition-colors duration-300 group-hover:text-primary">
        <span set:html={title} />
    </h3>

    <!-- Description -->
    <p class="text-foreground-secondary text-sm leading-relaxed mb-4 flex-grow">
        {description}
    </p>

    <!-- Features list (bullet points) -->
    <ul class="space-y-2 mb-6" role="list">
        {features.slice(0, 3).map((feature) => (
            <li class="flex items-start gap-2 text-sm text-foreground-secondary">
                <span class="w-1.5 h-1.5 mt-2 rounded-full bg-primary/60 flex-shrink-0" aria-hidden="true" />
                <span>{feature}</span>
            </li>
        ))}
    </ul>

    <!-- CTA Link -->
    <a
        href={href}
        class="inline-flex items-center gap-2 text-sm font-semibold text-primary hover:text-primary-foreground transition-colors duration-300 mt-auto group/link"
    >
        <span>{ctaText}</span>
        <div class="w-4 h-4 transition-transform duration-300 group-hover/link:translate-x-1" aria-hidden="true" set:html={ArrowRightIcon} />
    </a>
</article>
