/* Tailwind directives */
@tailwind base;
@tailwind components;
@tailwind utilities;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Backgrounds - Light Mode (blue-gray tinted) */
        --bg-primary: 219 21% 96%; /* Very light blue-gray */
        --bg-secondary: 219 21% 94%; /* Light blue-gray */
        --bg-tertiary: 219 21% 92%; /* Slightly darker blue-gray */

        /* Text - Light Mode (blue-gray tinted for harmony) */
        --text-primary: 215 25% 15%; /* Very dark blue-gray */
        --text-secondary: 215 20% 25%; /* Dark blue-gray */
        --text-muted: 215 15% 35%; /* Medium blue-gray */

        /* Backgrounds - Dark Mode - Purple-blue theme */
        --bg-primary-dark: 256 45% 6%; /* Very dark purple, almost black */
        --bg-secondary-dark: 250 30% 10%; /* Dark purple-blue */
        --bg-tertiary-dark: 245 25% 16%; /* Medium dark purple-blue */

        /* Text - Dark Mode - High contrast with purple tint */
        --text-primary-dark: 240 15% 96%; /* Almost pure white with purple tint */
        --text-secondary-dark: 240 10% 72%; /* Light purple-gray */
        --text-muted-dark: 240 8% 52%; /* Medium purple-gray */

        /* Syntax Highlighting - Purple-blue theme */
        --syntax-keyword: 260 70% 70%; /* Purple keywords */
        --syntax-string: 120 40% 70%; /* Green strings */
        --syntax-number: 40 70% 70%; /* Orange numbers */
        --syntax-comment: 240 15% 60%; /* Purple-gray comments */

        /* Functional Colors */
        --success: 0.7 0.18 150;
        --warning: 0.75 0.2 80;
        --error: 0.6 0.25 20;

        /* Spacing (for reference in custom properties) */
        --space-1: 0.25rem;
        --space-2: 0.5rem;
        --space-3: 0.75rem;
        --space-4: 1rem;
        --space-5: 1.25rem;
        --space-6: 1.5rem;
        --space-8: 2rem;
        --space-10: 2.5rem;
        --space-12: 3rem;
        --space-16: 4rem;
        --space-20: 5rem;
        --space-24: 6rem;
        --space-32: 8rem;

        /* Section Spacing */
        --section-padding-mobile: var(--space-16);
        --section-padding-desktop: var(--space-24);
        --section-gap: var(--space-12);

        /* Border Radius */
        --radius-sm: 0.25rem;
        --radius-md: 0.5rem;
        --radius-lg: 0.75rem;
        --radius-xl: 1rem;
        --radius-2xl: 1.5rem;
        --radius-full: 9999px;

        /* Transitions */
        --duration-fast: 150ms;
        --duration-base: 300ms;
        --duration-slow: 500ms;
        --duration-slower: 700ms;

        /* Easing Functions */
        --ease-linear: linear;
        --ease-in: cubic-bezier(0.4, 0, 1, 1);
        --ease-out: cubic-bezier(0, 0, 0.2, 1);
        --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
        --ease-spring: cubic-bezier(0.27, 0.22, 0.44, 1.03);

        /* Shadcn/ui Light Variables - Blue-gray theme compatible */
        --background: 219 21% 94%; /* Light blue-gray background to match sections */
        --foreground: 215 25% 15%; /* Dark blue-gray text for contrast */
        --card: 220 20% 96%; /* Very light blue-gray cards */
        --card-foreground: 215 25% 15%; /* Dark blue-gray text on cards */
        --popover: 220 20% 98%; /* Almost white popovers */
        --popover-foreground: 215 25% 15%; /* Dark text on popovers */
        --primary: 215 60% 40%; /* Deep blue primary matching the palette */
        --primary-foreground: 0 0% 100%; /* White text on primary */
        --secondary: 215 15% 85%; /* Light blue-gray secondary */
        --secondary-foreground: 215 25% 15%; /* Dark text on secondary */
        --muted: 215 15% 88%; /* Very light blue-gray muted */
        --muted-foreground: 215 10% 35%; /* Medium blue-gray muted text */
        --accent: 210 55% 50%; /* Vibrant blue accent */
        --accent-foreground: 0 0% 100%; /* White text on accent */
        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 0 0% 98%;
        --border: 215 15% 82%; /* Light blue-gray border */
        --input: 215 15% 90%; /* Light blue-gray input backgrounds */
        --ring: 210 55% 50%; /* Blue focus ring */
        /* Form field backgrounds - slightly darker than card for contrast */
        --input-field-bg: rgba(0, 0, 0, 0.04);
        --chart-1: 210 55% 50%; /* Blue charts */
        --chart-2: 200 60% 45%;
        --chart-3: 190 50% 55%;
        --chart-4: 43 74% 66%;
        --chart-5: 27 87% 67%;
        --radius: 0.5rem;
    }

    /* Dark Mode Override - Purple-blue theme matching section backgrounds */
    .dark {
        /* Custom Dark Mode - Purple-blue theme */
        --bg-primary: 256 45% 8%; /* Very dark purple matching #18122B */
        --bg-secondary: 250 30% 12%; /* Dark purple-blue for cards */
        --bg-tertiary: 245 25% 18%; /* Slightly lighter purple for contrast */
        --text-primary: 240 15% 95%; /* Almost pure white with purple tint */
        --text-secondary: 240 10% 75%; /* Light purple-gray for secondary text */
        --text-muted: 240 8% 55%; /* Medium purple-gray for muted text */

        /* Shadcn/ui Dark Variables - Purple-blue theme */
        --background: 256 45% 8%; /* Very dark purple background */
        --foreground: 240 15% 95%; /* Almost white foreground with purple tint */
        --card: 250 30% 12%; /* Dark purple-blue cards */
        --card-foreground: 240 15% 95%; /* Light text on cards */
        --popover: 250 30% 12%; /* Dark purple-blue popovers */
        --popover-foreground: 240 15% 95%; /* Light text on popovers */
        --primary: 250 60% 65%; /* Vibrant purple-blue primary */
        --primary-foreground: 256 45% 8%; /* Dark text on bright primary */
        --secondary: 245 25% 20%; /* Dark purple-blue secondary */
        --secondary-foreground: 240 15% 95%; /* Light text on secondary */
        --muted: 245 25% 15%; /* Very dark purple-blue muted */
        --muted-foreground: 240 10% 70%; /* Light purple-gray muted text */
        --accent: 260 70% 70%; /* Bright purple accent */
        --accent-foreground: 256 45% 8%; /* Dark text on accent */
        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 0 0% 98%;
        --border: 245 25% 22%; /* Dark purple border */
        --input: 245 25% 15%; /* Dark purple input backgrounds */
        --ring: 250 60% 65%; /* Purple-blue focus ring */
        /* Form field backgrounds - slightly lighter than card for contrast */
        --input-field-bg: rgba(255, 255, 255, 0.12);
        --chart-1: 250 60% 65%; /* Purple-blue charts */
        --chart-2: 260 50% 60%; /* Purple charts */
        --chart-3: 240 40% 70%; /* Light purple charts */
        --chart-4: 280 65% 60%; /* Violet charts */
        --chart-5: 220 55% 65%; /* Blue-purple charts */

        /* Section Background Colors - Dark Mode */
        /* Divider Gradient Colors - Dark Mode */
        --divider-primary: #8b5cf6; /* Purple gradient matching theme */
        --divider-secondary: #6366f1; /* Indigo gradient */
        --divider-accent: #3b82f6; /* Blue gradient */
        --divider-overlay: rgba(139, 92, 246, 0.6); /* Purple overlay matching theme */
    }

    /* Base Styles */
    * {
        @apply border-foreground/10;
    }

    /* Add smooth transitions for theme switching */
    :root {
        transition:
            background-color 0.3s ease,
            color 0.3s ease,
            border-color 0.3s ease;
    }

    /* Ensure all section background changes are smooth */
    section {
        transition: background-color 0.3s ease;
    }

    html {
        font-feature-settings: "cv02", "cv03", "cv04", "cv11";
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    body {
        @apply bg-background text-foreground font-sans;
        @apply min-h-screen;
        font-variant-ligatures: common-ligatures;
    }

    /* Headings */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        @apply font-semibold tracking-tight;
    }

    h1 {
        @apply text-4xl;
    }

    h2 {
        @apply text-3xl;
    }

    h3 {
        @apply text-2xl;
    }

    h4 {
        @apply text-xl;
    }

    h5 {
        @apply text-lg;
    }

    h6 {
        @apply text-base;
    }

    /* Links */
    a {
        @apply transition-colors duration-base;
    }

    /* Code */
    code,
    pre {
        @apply font-mono;
    }

    /* Focus Styles for Accessibility */
    :focus-visible {
        @apply outline-2 outline-offset-2 outline-primary;
    }

    /* Selection */
    ::selection {
        @apply bg-primary/30 text-foreground;
    }

    /* Scrollbar Styles (for webkit browsers) */
    ::-webkit-scrollbar {
        @apply w-2;
    }

    ::-webkit-scrollbar-track {
        @apply bg-background-secondary;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-foreground-muted rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-foreground-secondary;
    }
}

@layer components {
    /* Gradient Text Utility - More vibrant and noticeable */
    .gradient-text {
        @apply bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 dark:from-purple-300 dark:via-pink-300 dark:to-blue-300 bg-clip-text text-transparent;
        background-size: 200% 100%;
        animation: gradient-shift 8s ease infinite;
    }

    /* Enhanced gradient for section titles - even more vibrant */
    .gradient-text-section {
        @apply bg-gradient-to-r from-indigo-600 via-purple-500 to-pink-500 dark:from-purple-300 dark:via-pink-300 dark:to-indigo-300 bg-clip-text text-transparent;
        background-size: 150% 100%;
        animation: gradient-shift 10s ease infinite;
        filter: saturate(1.2);
    }

    .gradient-text-accent {
        @apply bg-gradient-to-r from-blue-500 via-indigo-600 to-purple-600 dark:from-purple-200 dark:via-pink-200 dark:to-indigo-300 bg-clip-text text-transparent;
        background-size: 200% 100%;
        animation: gradient-shift 6s ease infinite;
    }

    /* Alternative gradient with better light mode contrast */
    .gradient-text-blue {
        @apply bg-gradient-to-r from-blue-700 via-indigo-700 to-purple-700 dark:from-purple-300 dark:via-blue-300 dark:to-indigo-300 bg-clip-text text-transparent;
        background-size: 200% 100%;
        animation: gradient-shift 10s ease infinite;
    }

    /* Extra vibrant gradient for hero sections */
    .gradient-text-hero {
        @apply bg-gradient-to-r from-blue-600 via-purple-500 to-violet-600 dark:from-purple-300 dark:via-pink-300 dark:to-blue-300 bg-clip-text text-transparent;
        background-size: 300% 100%;
        animation: gradient-shift 12s ease infinite;
    }

    /* Gradient animation keyframes */
    @keyframes gradient-shift {
        0% {
            background-position: 0% 50%;
        }
        50% {
            background-position: 100% 50%;
        }
        100% {
            background-position: 0% 50%;
        }
    }

    /* Container */
    .container-custom {
        @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    }

    /* Section Padding */
    .section {
        @apply py-16 md:py-24;
    }

    /* Glassmorphism Effect */
    .glass {
        @apply bg-background/80 backdrop-blur-md border border-foreground/10;
    }

    /* Button Base */
    .btn {
        @apply inline-flex items-center justify-center gap-2;
        @apply px-6 py-3 rounded-lg;
        @apply font-medium transition-all duration-base;
        @apply focus-visible:outline-2 focus-visible:outline-offset-2;
    }

    .btn-primary {
        @apply btn bg-primary text-primary-foreground;
        @apply hover:opacity-90 hover:shadow-lg;
    }

    .btn-secondary {
        @apply btn bg-secondary text-secondary-foreground;
        @apply hover:opacity-90 hover:shadow-md;
    }

    .btn-ghost {
        @apply btn bg-transparent border border-border;
        @apply hover:bg-accent/10 hover:border-accent/50 hover:text-accent;
    }

    /* Card Component */
    .card {
        @apply bg-card rounded-lg p-6;
        @apply border border-border;
        @apply shadow-sm;
    }

    .card-hover {
        @apply card transition-all duration-300;
        @apply hover:shadow-md hover:border-accent/30 hover:-translate-y-1;
    }

    /* Fade In Animation Utilities */
    .fade-in {
        @apply opacity-0 translate-y-8;
    }

    .fade-in.visible {
        @apply opacity-100 translate-y-0 transition-all duration-slow;
    }
}

@layer utilities {
    /* Text Balance for Headlines */
    .text-balance {
        text-wrap: balance;
    }

    /* Hide scrollbar but keep functionality */
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }

    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
}

/* Expressive-code appearance*/
.content-prose .expressive-code {
    padding-bottom: 2.5em;
}

.content-prose p code {
    margin: 0 5px;
    color: #ffffff;
}

/* Mermaid Diagram Styles - Match expressive-code appearance */
.mermaid-diagram {
    /* Match expressive-code container */
    margin: 1rem 0;
    border-radius: 0.5rem;
    overflow: hidden;
    background: #282a36;
    box-shadow:
        0 1px 3px 0 rgb(0 0 0 / 0.1),
        0 1px 2px -1px rgb(0 0 0 / 0.1);
    padding: 2rem;
}

.mermaid-diagram .frame {
    /* Center the diagram inside the frame */
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 200px;
    background: transparent;
    width: 100%;
}

.mermaid-diagram .mermaid {
    /* Remove default mermaid margins and center */
    margin: 0 auto;
    background: transparent;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
}

.mermaid-diagram .mermaid svg {
    /* Center the SVG itself */
    display: block;
    margin: 0 auto;
    max-width: 100%;
    height: auto;
}

/* Increase line thickness for better visibility */
.mermaid svg .edge-thickness-normal {
    stroke-width: 3px;
}

.mermaid svg .edge-pattern-solid {
    stroke-width: 3px;
}

.mermaid svg path.path {
    stroke-width: 3px;
}

.mermaid svg line {
    stroke-width: 3px;
}

/* Improve text readability */
.mermaid svg .nodeLabel,
.mermaid svg .edgeLabel {
    font-weight: 500;
}

.expressive-code.mermaid-diagram figure.frame {
    box-shadow: none;
}

.expressive-code.mermaid-diagram {
    box-shadow: var(--ec-frm-frameBoxShdCssVal);
}

@layer base {
    * {
        @apply border-border;
    }
    body {
        @apply bg-background text-foreground;
    }
}

/* Section Separation and Visual Hierarchy */
@layer components {
    /* Enhanced section spacing with better visual separation */
    .section {
        @apply relative py-20 md:py-24 lg:py-28;
        /* Remove any margin to avoid gaps with dividers */
        margin: 0;
        /* Subtle background transitions */
        transition: background-color 0.3s ease;
    }

    /* Ensure secondary sections have proper background with higher specificity */
    section.section.bg-secondary {
        background-color: hsl(var(--secondary));
    }

    /* Force contrast for better visibility */
    section.section:not(.bg-secondary) {
        background-color: hsl(var(--background));
    }

    /* Section divider enhancements - IMPORTANT: Must break out of container */
    .section-divider {
        @apply relative z-10;
        /* Remove all margin/padding to avoid gaps */
        margin: 0;
        padding: 0;
    }

    /* Ensure sections connect seamlessly */
    .section + .section-divider,
    .section-divider + .section {
        margin-top: 0;
        margin-bottom: 0;
    }

    /* Override any global margins that might interfere */
    .section-divider * {
        margin: 0;
        padding: 0;
    }

    /* Improved section content spacing */
    .section .container-custom {
        @apply relative z-20;
    }

    /* Section title improvements */
    .section-title {
        @apply mb-16 text-center;
    }

    .section-title h2 {
        @apply text-3xl md:text-4xl lg:text-5xl font-bold mb-4;
    }

    .section-title p {
        @apply text-foreground-secondary text-lg md:text-xl max-w-2xl mx-auto;
    }

    /* Dark mode adjustments for better contrast */
    .dark .section {
        /* Enhance separation in dark mode */
        border-top: 1px solid hsl(var(--border) / 0.1);
    }

    /* Light mode subtle shadows for depth */
    .light .section {
        box-shadow: inset 0 1px 0 0 hsl(var(--border) / 0.05);
    }

    /* Scroll animations enhancement */
    .scroll-fade-in {
        opacity: 0;
        transform: translateY(30px);
        transition:
            opacity 0.6s ease,
            transform 0.6s ease;
    }

    .scroll-fade-in.visible {
        opacity: 1;
        transform: translateY(0);
    }

    /* Timeline styles */
    .timeline-dot.active {
        background-color: rgb(59 130 246);
        transform: scale(1.25);
    }

    /* Hide scrollbar utility class */
    .scrollbar-hide {
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE and Edge */
    }

    .scrollbar-hide::-webkit-scrollbar {
        display: none; /* Chrome, Safari and Opera */
    }

    /* Command Palette Animations */
    @keyframes fadeInScale {
        from {
            opacity: 0;
            transform: scale(0.95) translateY(-10px);
        }
        to {
            opacity: 1;
            transform: scale(1) translateY(0);
        }
    }

    .command-palette-enter {
        animation: fadeInScale 0.15s ease-out forwards;
    }

    /* Project Card Animations */
    @keyframes fadeInScale {
        from {
            opacity: 0;
            transform: scale(0.9);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    @keyframes shimmer {
        0% {
            background-position: -200% center;
        }
        100% {
            background-position: 200% center;
        }
    }

    @keyframes gradient {
        0% {
            background-position: 0% 50%;
        }
        50% {
            background-position: 100% 50%;
        }
        100% {
            background-position: 0% 50%;
        }
    }

    .animate-gradient {
        animation: gradient 3s ease infinite;
    }

    /* Skip Link for Accessibility (WCAG 2.4.1) */
    .skip-link {
        position: absolute;
        top: -100px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 9999;
        padding: 12px 24px;
        background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent)));
        color: hsl(var(--primary-foreground));
        text-decoration: none;
        font-weight: 600;
        font-size: 0.875rem;
        border-radius: 8px;
        box-shadow:
            0 4px 6px -1px rgb(0 0 0 / 0.1),
            0 2px 4px -1px rgb(0 0 0 / 0.06);
        backdrop-filter: blur(10px);
        transition:
            top var(--duration-normal) var(--ease-out),
            transform var(--duration-normal) var(--ease-out),
            box-shadow var(--duration-normal) var(--ease-out);
    }

    .skip-link:focus {
        top: 16px;
        transform: translateX(-50%) scale(1.02);
        outline: 2px solid hsl(var(--accent));
        outline-offset: 4px;
        box-shadow:
            0 20px 25px -5px rgb(0 0 0 / 0.2),
            0 10px 10px -5px rgb(0 0 0 / 0.1);
    }

    .skip-link:hover {
        transform: translateX(-50%) scale(1.05);
    }

    /* ==========================================================================
       CONTENT PROSE - Centralized markdown content styles
       Used by: projects/[slug], blog/[slug], tools/[...slug]
       ========================================================================== */

    .content-prose {
        @apply text-foreground-secondary;
    }

    /* Headings - H1 with gradient underline */
    .content-prose h1 {
        font-size: 1.75rem;
        font-weight: 800;
        margin-top: 4rem;
        margin-bottom: 1.25rem;
        line-height: 1.3;
        color: hsl(var(--foreground));
        position: relative;
        display: inline-block;
    }

    .content-prose h1::after {
        content: '';
        position: absolute;
        bottom: -0.25rem;
        left: 0;
        width: 100%;
        height: 0.375rem;
        background: linear-gradient(90deg, hsl(var(--primary)), hsl(var(--accent)));
        border-radius: 9999px;
        opacity: 0.6;
    }

    .content-prose h1:first-child {
        margin-top: 0;
    }

    /* Hide first h1 in blog posts (title is shown in hero) */
    .content-prose.blog-post-content > h1:first-child {
        display: none;
    }

    /* Headings - H2 with marker/highlighter effect */
    .content-prose h2 {
        font-size: 1.375rem;
        font-weight: 700;
        margin-top: 3rem;
        margin-bottom: 1rem;
        line-height: 1.4;
        color: hsl(var(--foreground));
        position: relative;
        display: inline;
        background: linear-gradient(
            180deg,
            transparent 60%,
            hsl(var(--primary) / 0.2) 60%,
            hsl(var(--primary) / 0.2) 90%,
            transparent 90%
        );
        padding: 0 0.25rem;
        margin-left: -0.25rem;
        box-decoration-break: clone;
        -webkit-box-decoration-break: clone;
    }

    .content-prose h2:first-child {
        margin-top: 0;
    }

    /* Headings - H3 with left accent and subtle bg */
    .content-prose h3 {
        font-size: 1.125rem;
        font-weight: 700;
        margin-top: 2.5rem;
        margin-bottom: 0.875rem;
        line-height: 1.4;
        color: hsl(var(--foreground));
        padding-left: 1rem;
        border-left: 3px solid hsl(var(--primary) / 0.5);
        background: linear-gradient(90deg, hsl(var(--primary) / 0.05), transparent 50%);
    }

    /* Headings - H4 pill style */
    .content-prose h4 {
        font-size: 0.875rem;
        font-weight: 600;
        margin-top: 2rem;
        margin-bottom: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: hsl(var(--primary));
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.25rem 0.75rem;
        background: hsl(var(--primary) / 0.1);
        border-radius: 9999px;
        border: 1px solid hsl(var(--primary) / 0.2);
    }

    .content-prose h4::before {
        content: '◆';
        font-size: 0.5rem;
        opacity: 0.7;
    }

    /* Paragraphs */
    .content-prose p {
        font-size: 0.9375rem;
        margin-bottom: 1.5rem;
        line-height: 1.8;
        color: hsl(var(--foreground-secondary));
    }

    /* Lists - Custom bullets */
    .content-prose ul {
        list-style: none;
        margin: 0 0 1.75rem 0;
        padding: 0;
    }

    .content-prose ol {
        list-style: none;
        margin: 0 0 1.75rem 0;
        padding: 0;
        counter-reset: item;
    }

    .content-prose li {
        position: relative;
        padding-left: 2rem;
        font-size: 0.9375rem;
        line-height: 1.8;
        margin-bottom: 0.75rem;
        color: hsl(var(--foreground-secondary));
    }

    /* Unordered list - gradient diamond bullets */
    .content-prose ul > li::before {
        content: '';
        position: absolute;
        left: 0.25rem;
        top: 0.625rem;
        width: 0.5rem;
        height: 0.5rem;
        background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent)));
        transform: rotate(45deg);
        border-radius: 2px;
        box-shadow: 0 0 8px hsl(var(--primary) / 0.3);
    }

    /* Ordered list - circled numbers */
    .content-prose ol > li {
        counter-increment: item;
        padding-left: 2.5rem;
    }

    .content-prose ol > li::before {
        content: counter(item);
        position: absolute;
        left: 0;
        top: 0.125rem;
        width: 1.5rem;
        height: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent)));
        color: white;
        font-size: 0.75rem;
        font-weight: 700;
        border-radius: 9999px;
        box-shadow: 0 2px 8px hsl(var(--primary) / 0.3);
    }

    /* Nested lists */
    .content-prose li > ul,
    .content-prose li > ol {
        margin-top: 0.75rem;
        margin-bottom: 0;
    }

    .content-prose li > ul > li::before {
        width: 0.375rem;
        height: 0.375rem;
        background: hsl(var(--primary) / 0.6);
        box-shadow: none;
    }

    /* Strong/Bold with subtle highlight */
    .content-prose strong {
        color: hsl(var(--foreground));
        font-weight: 600;
        background: linear-gradient(180deg, transparent 70%, hsl(var(--primary) / 0.15) 70%);
        padding: 0 0.125rem;
    }

    /* Links - animated underline */
    .content-prose a {
        color: hsl(var(--primary));
        text-decoration: none;
        position: relative;
        font-weight: 500;
        transition: color 0.2s ease;
    }

    .content-prose a::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 100%;
        height: 2px;
        background: linear-gradient(90deg, hsl(var(--primary)), hsl(var(--accent)));
        border-radius: 9999px;
        transform: scaleX(0.3);
        transform-origin: left;
        transition: transform 0.3s ease;
    }

    .content-prose a:hover {
        color: hsl(var(--accent));
    }

    .content-prose a:hover::after {
        transform: scaleX(1);
    }

    /* Inline code - pill style */
    .content-prose code {
        background: linear-gradient(135deg, hsl(var(--primary) / 0.1), hsl(var(--accent) / 0.1));
        color: hsl(var(--primary));
        padding: 0.125rem 0.5rem;
        border-radius: 0.375rem;
        font-size: 0.8125rem;
        font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, monospace;
        border: 1px solid hsl(var(--primary) / 0.15);
        font-weight: 500;
    }

    /* Code blocks - enhanced */
    .content-prose pre {
        background: linear-gradient(135deg, hsl(var(--background)) 0%, hsl(var(--muted)) 100%);
        border: 1px solid hsl(var(--border));
        border-radius: 0.75rem;
        padding: 1.25rem;
        overflow-x: auto;
        margin-bottom: 1.75rem;
        font-size: 0.8125rem;
        line-height: 1.7;
        box-shadow:
            0 4px 6px -1px hsl(var(--foreground) / 0.05),
            inset 0 1px 0 hsl(var(--foreground) / 0.05);
    }

    .content-prose pre code {
        background: transparent;
        padding: 0;
        font-size: inherit;
        border: none;
        font-weight: normal;
    }

    /* Blockquotes - elegant with quote icon */
    .content-prose blockquote {
        position: relative;
        border: none;
        padding: 1.5rem 1.5rem 1.5rem 3.5rem;
        margin: 2rem 0;
        font-style: italic;
        color: hsl(var(--foreground-secondary));
        font-size: 1rem;
        line-height: 1.7;
        background: linear-gradient(135deg, hsl(var(--primary) / 0.05), hsl(var(--accent) / 0.03));
        border-radius: 0.75rem;
        border-left: 4px solid hsl(var(--primary) / 0.5);
    }

    .content-prose blockquote::before {
        content: '"';
        position: absolute;
        left: 0.75rem;
        top: 0.5rem;
        font-size: 3rem;
        font-family: Georgia, serif;
        color: hsl(var(--primary) / 0.3);
        line-height: 1;
    }

    .content-prose blockquote p {
        margin-bottom: 0;
    }

    /* ============================================
       CALLOUTS - Josh W Comeau inspired design
       Syntax: > **Info:** Content here
       ============================================ */

    /* Base callout styles */
    .content-prose blockquote[class*="callout-"] {
        position: relative;
        font-style: normal;
        border-left: none;
        border-radius: 0.75rem;
        padding: 1.25rem 1.5rem 1.25rem 1.5rem;
        margin: 2rem 0;
        overflow: visible;
    }

    /* Remove default blockquote quote mark for callouts */
    .content-prose blockquote[class*="callout-"]::before {
        display: none !important;
    }

    /* Icon circle - positioned on the left border, more outside */
    .content-prose blockquote[class*="callout-"]::after {
        position: absolute;
        top: -1rem;
        left: -1rem;
        width: 2.5rem;
        height: 2.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-size: 1.25rem;
        line-height: 1;
        z-index: 10;
    }

    /* ---- INFO Callout (blue) ---- */
    .callout-info,
    .content-prose blockquote.callout-info {
        background: hsl(210 60% 95%);
        border: 1px solid hsl(210 100% 50% / 0.3);
        box-shadow:
            inset 5px 0 0 hsl(210 100% 50%),
            0 2px 8px hsl(210 100% 50% / 0.1);
    }

    .dark .content-prose blockquote.callout-info {
        background: hsl(210 40% 18%);
    }

    .content-prose blockquote.callout-info::after {
        content: 'ℹ';
        background: hsl(210 60% 95%);
        border: 2px solid hsl(210 100% 50%);
        color: hsl(210 100% 50%);
        font-weight: 700;
        font-family: Georgia, serif;
    }

    .dark .content-prose blockquote.callout-info::after {
        background: hsl(var(--background));
    }

    .callout-info strong:first-of-type {
        color: hsl(210 100% 40%);
    }

    .dark .callout-info strong:first-of-type {
        color: hsl(210 100% 65%);
    }

    /* ---- WARNING Callout (yellow) ---- */
    .callout-warning,
    .content-prose blockquote.callout-warning {
        background: hsl(45 80% 94%);
        border: 1px solid hsl(45 100% 50% / 0.3);
        box-shadow:
            inset 5px 0 0 hsl(45 100% 50%),
            0 2px 8px hsl(45 100% 50% / 0.1);
    }

    .dark .content-prose blockquote.callout-warning {
        background: hsl(45 40% 16%);
    }

    .content-prose blockquote.callout-warning::after {
        content: '⚠';
        background: hsl(45 80% 94%);
        border: 2px solid hsl(45 100% 50%);
        color: hsl(45 100% 40%);
        font-size: 1.1rem;
    }

    .dark .content-prose blockquote.callout-warning::after {
        background: hsl(var(--background));
        color: hsl(45 100% 50%);
    }

    .callout-warning strong:first-of-type {
        color: hsl(45 100% 35%);
    }

    .dark .callout-warning strong:first-of-type {
        color: hsl(45 100% 60%);
    }

    /* ---- SUCCESS Callout (teal/green) ---- */
    .callout-success,
    .content-prose blockquote.callout-success {
        background: hsl(160 50% 94%);
        border: 1px solid hsl(160 70% 40% / 0.3);
        box-shadow:
            inset 5px 0 0 hsl(160 70% 40%),
            0 2px 8px hsl(160 70% 40% / 0.1);
    }

    .dark .content-prose blockquote.callout-success {
        background: hsl(160 35% 16%);
    }

    .content-prose blockquote.callout-success::after {
        content: '✓';
        background: hsl(160 50% 94%);
        border: 2px solid hsl(160 70% 40%);
        color: hsl(160 70% 35%);
        font-weight: 700;
    }

    .dark .content-prose blockquote.callout-success::after {
        background: hsl(var(--background));
        color: hsl(160 70% 40%);
    }

    .callout-success strong:first-of-type {
        color: hsl(160 70% 35%);
    }

    .dark .callout-success strong:first-of-type {
        color: hsl(160 70% 55%);
    }

    /* ---- ERROR Callout (red) ---- */
    .callout-error,
    .content-prose blockquote.callout-error {
        background: hsl(0 60% 96%);
        border: 1px solid hsl(0 85% 55% / 0.3);
        box-shadow:
            inset 5px 0 0 hsl(0 85% 55%),
            0 2px 8px hsl(0 85% 55% / 0.1);
    }

    .dark .content-prose blockquote.callout-error {
        background: hsl(0 40% 18%);
    }

    .content-prose blockquote.callout-error::after {
        content: '✕';
        background: hsl(0 60% 96%);
        border: 2px solid hsl(0 85% 55%);
        color: hsl(0 85% 45%);
        font-weight: 700;
        font-size: 1.1rem;
    }

    .dark .content-prose blockquote.callout-error::after {
        background: hsl(var(--background));
        color: hsl(0 85% 55%);
    }

    .callout-error strong:first-of-type {
        color: hsl(0 85% 45%);
    }

    .dark .callout-error strong:first-of-type {
        color: hsl(0 85% 65%);
    }

    /* ---- TIP Callout (purple) ---- */
    .callout-tip,
    .content-prose blockquote.callout-tip {
        background: hsl(280 50% 96%);
        border: 1px solid hsl(280 70% 55% / 0.3);
        box-shadow:
            inset 5px 0 0 hsl(280 70% 55%),
            0 2px 8px hsl(280 70% 55% / 0.1);
    }

    .dark .content-prose blockquote.callout-tip {
        background: hsl(280 35% 18%);
    }

    .content-prose blockquote.callout-tip::after {
        content: '✦';
        background: hsl(280 50% 96%);
        border: 2px solid hsl(280 70% 55%);
        color: hsl(280 70% 45%);
        font-size: 1.1rem;
    }

    .dark .content-prose blockquote.callout-tip::after {
        background: hsl(var(--background));
        color: hsl(280 70% 55%);
    }

    .callout-tip strong:first-of-type {
        color: hsl(280 70% 45%);
    }

    .dark .callout-tip strong:first-of-type {
        color: hsl(280 70% 65%);
    }

    /* ---- QUOTE Callout (slate/gray - neutral) ---- */
    .callout-quote,
    .content-prose blockquote.callout-quote {
        background: hsl(220 20% 95%);
        border: 1px solid hsl(220 15% 50% / 0.3);
        box-shadow:
            inset 5px 0 0 hsl(220 15% 55%),
            0 2px 8px hsl(220 15% 50% / 0.1);
        font-style: italic;
    }

    .dark .content-prose blockquote.callout-quote {
        background: hsl(220 20% 20%);
    }

    .content-prose blockquote.callout-quote::after {
        content: '❝';
        background: hsl(220 20% 95%);
        border: 2px solid hsl(220 15% 55%);
        color: hsl(220 15% 45%);
        font-size: 1.4rem;
        font-style: normal;
        line-height: 0.9;
    }

    .dark .content-prose blockquote.callout-quote::after {
        background: hsl(var(--background));
        color: hsl(220 15% 55%);
    }

    .callout-quote strong:first-of-type {
        color: hsl(220 15% 45%);
    }

    .dark .callout-quote strong:first-of-type {
        color: hsl(220 15% 65%);
    }

    .callout-quote p {
        font-size: 1.05rem;
        line-height: 1.7;
    }

    /* Callout paragraph spacing */
    .content-prose blockquote[class*="callout-"] p {
        margin-bottom: 0.75rem;
    }

    .content-prose blockquote[class*="callout-"] p:last-child {
        margin-bottom: 0;
    }

    /* Callout links */
    .content-prose blockquote[class*="callout-"] a {
        text-decoration: underline;
        text-underline-offset: 2px;
    }

    /* Callout code inline */
    .content-prose blockquote[class*="callout-"] code {
        background: hsl(var(--foreground) / 0.1);
        padding: 0.15em 0.4em;
        border-radius: 0.25rem;
        font-size: 0.875em;
    }

    /* Tables - modern style */
    .content-prose table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        margin-bottom: 2rem;
        font-size: 0.875rem;
        border-radius: 0.75rem;
        overflow: hidden;
        box-shadow: 0 1px 3px hsl(var(--foreground) / 0.05);
    }

    .content-prose th {
        background: linear-gradient(135deg, hsl(var(--primary) / 0.1), hsl(var(--accent) / 0.05));
        padding: 1rem 1.25rem;
        text-align: left;
        font-weight: 600;
        color: hsl(var(--foreground));
        border-bottom: 2px solid hsl(var(--primary) / 0.2);
    }

    .content-prose td {
        padding: 0.875rem 1.25rem;
        border-bottom: 1px solid hsl(var(--border));
        transition: background 0.2s ease;
    }

    .content-prose tr:hover td {
        background: hsl(var(--primary) / 0.03);
    }

    .content-prose tr:last-child td {
        border-bottom: none;
    }

    /* Horizontal rules - gradient line */
    .content-prose hr {
        border: 0;
        height: 3px;
        background: linear-gradient(90deg,
            transparent,
            hsl(var(--primary) / 0.3) 20%,
            hsl(var(--accent) / 0.3) 80%,
            transparent
        );
        margin: 3rem 0;
        border-radius: 9999px;
    }

    /* Images - enhanced with hover */
    .content-prose img {
        border-radius: 0.75rem;
        box-shadow:
            0 4px 6px -1px hsl(var(--foreground) / 0.1),
            0 2px 4px -2px hsl(var(--foreground) / 0.1);
        max-width: 100%;
        height: auto;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .content-prose img:hover {
        transform: scale(1.02);
        box-shadow:
            0 20px 25px -5px hsl(var(--foreground) / 0.1),
            0 8px 10px -6px hsl(var(--foreground) / 0.1);
    }

    /* Dark mode specific adjustments */
    .dark .content-prose h2 {
        background: linear-gradient(
            180deg,
            transparent 60%,
            hsl(var(--primary) / 0.25) 60%,
            hsl(var(--primary) / 0.25) 90%,
            transparent 90%
        );
    }

    .dark .content-prose ul > li::before {
        box-shadow: 0 0 12px hsl(var(--primary) / 0.5);
    }

    .dark .content-prose ol > li::before {
        box-shadow: 0 2px 12px hsl(var(--primary) / 0.4);
    }

    .dark .content-prose code {
        background: linear-gradient(135deg, hsl(var(--primary) / 0.15), hsl(var(--accent) / 0.15));
        border-color: hsl(var(--primary) / 0.25);
    }

    .dark .content-prose pre {
        background: linear-gradient(135deg, hsl(250 30% 12%) 0%, hsl(250 25% 15%) 100%);
    }

    .dark .content-prose blockquote {
        background: linear-gradient(135deg, hsl(var(--primary) / 0.08), hsl(var(--accent) / 0.05));
    }

    .dark .content-prose blockquote::before {
        color: hsl(var(--primary) / 0.4);
    }

    /* ==========================================================================
       CSS TRICKS DEMO BOX - Interactive live demos
       ========================================================================== */

    .demo-box {
        margin: 2rem 0;
        border-radius: 0.75rem;
        overflow: hidden;
        border: 1px solid hsl(var(--border));
        background: hsl(var(--card));
        box-shadow: 0 4px 6px -1px hsl(var(--foreground) / 0.05);
    }

    .demo-header {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1rem;
        background: hsl(var(--muted));
        border-bottom: 1px solid hsl(var(--border));
    }

    .demo-dot {
        width: 0.75rem;
        height: 0.75rem;
        border-radius: 50%;
    }

    .demo-dot.red {
        background: #ef4444;
        opacity: 0.7;
    }

    .demo-dot.yellow {
        background: #eab308;
        opacity: 0.7;
    }

    .demo-dot.green {
        background: #22c55e;
        opacity: 0.7;
    }

    .demo-title {
        font-size: 0.875rem;
        font-weight: 500;
        color: hsl(var(--foreground-secondary));
        margin-left: 0.5rem;
    }

    .demo-badge {
        margin-left: auto;
        padding: 0.25rem 0.5rem;
        font-size: 0.625rem;
        font-weight: 600;
        letter-spacing: 0.05em;
        border-radius: 0.25rem;
        background: hsl(var(--primary) / 0.1);
        color: hsl(var(--primary));
    }

    .demo-content {
        padding: 1.5rem;
        background: linear-gradient(135deg, hsl(var(--primary) / 0.03) 0%, hsl(var(--accent) / 0.05) 100%);
        min-height: 120px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    /* Dark mode adjustments for demo box */
    .dark .demo-box {
        box-shadow: 0 4px 6px -1px hsl(0 0% 0% / 0.2);
    }

    .dark .demo-header {
        background: hsl(var(--background));
    }

    .dark .demo-content {
        background: linear-gradient(135deg, hsl(var(--primary) / 0.05) 0%, hsl(var(--accent) / 0.08) 100%);
    }

    /* ==========================================================================
       CSS PLAYGROUND - Interactive code editor for CSS tricks
       ========================================================================== */

    .css-playground {
        margin: 2rem 0;
        border-radius: 0.75rem;
        border: 1px solid hsl(var(--border));
        background: hsl(var(--card));
        box-shadow: 0 4px 6px -1px hsl(var(--foreground) / 0.05);
    }

    .css-playground-header {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1rem;
        background: hsl(var(--muted));
        border-bottom: 1px solid hsl(var(--border));
        border-radius: 0.75rem 0.75rem 0 0;
    }

    .css-playground-dots {
        display: flex;
        gap: 0.375rem;
    }

    .css-playground-dot {
        width: 0.75rem;
        height: 0.75rem;
        border-radius: 50%;
    }

    .css-playground-dot.red {
        background: #ef4444;
        opacity: 0.7;
    }

    .css-playground-dot.yellow {
        background: #eab308;
        opacity: 0.7;
    }

    .css-playground-dot.green {
        background: #22c55e;
        opacity: 0.7;
    }

    .css-playground-tabs {
        display: flex;
        gap: 0.25rem;
        margin-left: 1rem;
    }

    .css-playground-tab {
        padding: 0.375rem 0.75rem;
        font-size: 0.8125rem;
        font-weight: 500;
        color: hsl(var(--foreground-secondary));
        background: transparent;
        border: none;
        border-radius: 0.375rem;
        cursor: pointer;
        transition: all 0.15s ease;
        display: flex;
        align-items: center;
        gap: 0.375rem;
    }

    .css-playground-tab:hover {
        background: hsl(var(--background));
        color: hsl(var(--foreground));
    }

    .css-playground-tab.active {
        background: hsl(var(--background));
        color: hsl(var(--primary));
        font-weight: 600;
    }

    .css-playground-modified {
        color: hsl(var(--warning, 38 92% 50%));
        font-size: 0.625rem;
    }

    .css-playground-actions {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-left: auto;
    }

    .css-playground-reset {
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        font-weight: 500;
        color: hsl(var(--foreground-secondary));
        background: hsl(var(--background));
        border: 1px solid hsl(var(--border));
        border-radius: 0.25rem;
        cursor: pointer;
        transition: all 0.15s ease;
    }

    .css-playground-reset:hover {
        background: hsl(var(--destructive) / 0.1);
        border-color: hsl(var(--destructive) / 0.3);
        color: hsl(var(--destructive));
    }

    .css-playground-badge {
        padding: 0.25rem 0.5rem;
        font-size: 0.625rem;
        font-weight: 600;
        letter-spacing: 0.05em;
        border-radius: 0.25rem;
        background: hsl(var(--primary) / 0.1);
        color: hsl(var(--primary));
    }

    .css-playground-title {
        font-size: 0.875rem;
        font-weight: 500;
        color: hsl(var(--foreground-secondary));
    }

    .css-playground-preview {
        padding: 1.5rem;
        background: linear-gradient(135deg, hsl(var(--primary) / 0.03) 0%, hsl(var(--accent) / 0.05) 100%);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    /* Resizable preview */
    .css-playground-preview--resizable {
        resize: horizontal;
        overflow: auto;
        min-width: 200px;
        max-width: 100%;
        border: 2px dashed hsl(var(--primary) / 0.3);
        position: relative;
    }

    .css-playground-preview--resizable:hover {
        border-color: hsl(var(--primary) / 0.5);
    }

    .css-playground-resize-hint {
        position: absolute;
        bottom: 0.25rem;
        right: 0.5rem;
        font-size: 0.65rem;
        color: hsl(var(--foreground) / 0.4);
        pointer-events: none;
        user-select: none;
    }

    /* Controls section */
    .css-playground-controls {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(min(180px, 100%), 1fr));
        gap: 1rem;
        padding: 1rem;
        background: hsl(var(--muted) / 0.3);
        border-top: 1px solid hsl(var(--border));
        box-sizing: border-box;
        overflow: hidden;
    }

    .css-playground-control {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .css-playground-control label {
        font-size: 0.75rem;
        font-weight: 600;
        color: hsl(var(--foreground-secondary));
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .css-playground-color-wrapper {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .css-playground-control input[type="color"] {
        width: 40px;
        height: 32px;
        padding: 0;
        border: 2px solid hsl(var(--border));
        border-radius: 0.375rem;
        cursor: pointer;
        background: transparent;
    }

    .css-playground-control input[type="color"]::-webkit-color-swatch-wrapper {
        padding: 2px;
    }

    .css-playground-control input[type="color"]::-webkit-color-swatch {
        border-radius: 0.25rem;
        border: none;
    }

    .css-playground-color-value {
        font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace;
        font-size: 0.8rem;
        color: hsl(var(--foreground-muted));
    }

    .css-playground-range-wrapper {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

    .css-playground-control input[type="range"] {
        flex: 1;
        height: 6px;
        border-radius: 3px;
        background: hsl(var(--border));
        cursor: pointer;
        -webkit-appearance: none;
        appearance: none;
    }

    .css-playground-control input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: hsl(var(--primary));
        cursor: pointer;
        border: 2px solid hsl(var(--background));
        box-shadow: 0 2px 4px hsl(0 0% 0% / 0.2);
    }

    .css-playground-control input[type="range"]::-moz-range-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: hsl(var(--primary));
        cursor: pointer;
        border: 2px solid hsl(var(--background));
        box-shadow: 0 2px 4px hsl(0 0% 0% / 0.2);
    }

    .css-playground-range-value {
        min-width: 50px;
        font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace;
        font-size: 0.8rem;
        color: hsl(var(--foreground));
        text-align: right;
    }

    .css-playground-number-wrapper {
        display: flex;
        align-items: center;
        gap: 0.25rem;
    }

    .css-playground-control input[type="number"],
    .css-playground-control input[type="text"] {
        width: 100%;
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
        border: 1px solid hsl(var(--border));
        border-radius: 0.375rem;
        background: hsl(var(--background));
        color: hsl(var(--foreground));
    }

    .css-playground-control input[type="number"]:focus,
    .css-playground-control input[type="text"]:focus {
        outline: none;
        border-color: hsl(var(--primary));
        box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
    }

    .css-playground-unit {
        font-size: 0.75rem;
        color: hsl(var(--foreground-muted));
    }

    .css-playground-control select {
        width: 100%;
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
        border: 1px solid hsl(var(--border));
        border-radius: 0.375rem;
        background: hsl(var(--background));
        color: hsl(var(--foreground));
        cursor: pointer;
    }

    .css-playground-control select:focus {
        outline: none;
        border-color: hsl(var(--primary));
        box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
    }

    /* Code section */
    .css-playground-code {
        border-top: 1px solid hsl(var(--border));
    }

    .css-playground-code-header {
        padding: 0.5rem 1rem;
        font-size: 0.75rem;
        font-weight: 600;
        color: hsl(var(--foreground-secondary));
        background: hsl(var(--muted) / 0.5);
        border-bottom: 1px solid hsl(var(--border));
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .css-playground-highlight {
        margin: 0;
        padding: 1rem;
        font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace;
        font-size: 0.8rem;
        line-height: 1.6;
        white-space: pre;
        overflow-x: auto;
        color: hsl(var(--foreground));
        background: hsl(var(--background));
        border-radius: 0 0 0.75rem 0.75rem;
    }

    .css-playground-highlight::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    .css-playground-highlight::-webkit-scrollbar-track {
        background: transparent;
    }

    .css-playground-highlight::-webkit-scrollbar-thumb {
        background: hsl(var(--primary) / 0.4);
        border-radius: 4px;
    }

    .css-playground-highlight::-webkit-scrollbar-thumb:hover {
        background: hsl(var(--primary) / 0.6);
    }

    .css-playground-highlight:focus {
        outline: 2px solid hsl(var(--primary) / 0.5);
        outline-offset: -2px;
    }

    .css-playground-highlight:focus:not(:focus-visible) {
        outline: none;
    }

    /* Dark mode adjustments */
    .dark .css-playground {
        box-shadow: 0 4px 6px -1px hsl(0 0% 0% / 0.2);
    }

    .dark .css-playground-header {
        background: hsl(var(--background));
    }

    .dark .css-playground-preview {
        background: linear-gradient(135deg, hsl(var(--primary) / 0.05) 0%, hsl(var(--accent) / 0.08) 100%);
    }

    .dark .css-playground-editor-wrapper {
        background: hsl(256 45% 8%);
    }

    /* CSS Playground - Syntax Highlighting Tokens */
    .css-playground-highlight .token.comment {
        color: #6a737d;
        font-style: italic;
    }

    .css-playground-highlight .token.selector {
        color: #22c55e;
        font-weight: 600;
    }

    .css-playground-highlight .token.property {
        color: #06b6d4;
    }

    .css-playground-highlight .token.string {
        color: #f59e0b;
    }

    .css-playground-highlight .token.number {
        color: #a78bfa;
    }

    .css-playground-highlight .token.unit {
        color: #f472b6;
    }

    .css-playground-highlight .token.color {
        color: #fb923c;
    }

    .css-playground-highlight .token.function {
        color: #fbbf24;
    }

    .css-playground-highlight .token.pseudo {
        color: #34d399;
    }

    .css-playground-highlight .token.punctuation {
        color: #9ca3af;
    }

    /* Dark mode token adjustments */
    .dark .css-playground-highlight .token.comment {
        color: #8b949e;
    }

    .dark .css-playground-highlight .token.selector {
        color: #7ee787;
    }

    .dark .css-playground-highlight .token.property {
        color: #79c0ff;
    }

    .dark .css-playground-highlight .token.string {
        color: #ffa657;
    }

    .dark .css-playground-highlight .token.number {
        color: #d2a8ff;
    }

    .dark .css-playground-highlight .token.unit {
        color: #ff7eb6;
    }

    .dark .css-playground-highlight .token.color {
        color: #ffa657;
    }

    .dark .css-playground-highlight .token.function {
        color: #ffc658;
    }

    .dark .css-playground-highlight .token.pseudo {
        color: #56d4dd;
    }

    .dark .css-playground-highlight .token.punctuation {
        color: #a5b4c0;
    }
}
